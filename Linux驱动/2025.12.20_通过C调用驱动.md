### 通过LinuxC应用控制LED灯
- 具体使用C应用中的设备号、I/O函数等实现
- 找到led驱动文件的目录/sys/devices/platform/dtsleds/leds/red/，下面有trigger brightness等属性文件。可以直接用echo 1>brightness echo timer>trigger等来控制。
- 因为要用C应用的方法来控制，所以具体代码如下
```
#include <stdio.h>
#include <stdlib.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <unistd.h>
#include <string.h>
//先查看驱动文件的路径
#define LED_TRIGGER "/sys/devices/platform/dtsleds/leds/red/trigger"
#define LED_BRIGHTNESS "/sys/devices/platform/dtsleds/leds/red/brightness"
#define USAGE() fprintf(stderr, "usage:\n" \
" %s <on|off>\n" \
" %s <trigger> <type>\n", argv[0], argv[0])

int main(int argc, char *argv[])
{
int fd1, fd2;
/* 校验传参 */
if (2 > argc) {
USAGE();
exit(-1);
}

/* 打开文件 */
fd1 = open(LED_TRIGGER, O_RDWR);
if (0 > fd1) {
perror("open error");
exit(-1);
}

fd2 = open(LED_BRIGHTNESS, O_RDWR);
if (0 > fd2) {
perror("open error");
exit(-1);
}

/* 根据传参控制LED */
if (!strcmp(argv[1], "on")) {
write(fd1, "none", 4); //先将触发模式设置为none
write(fd2, "1", 1); //点亮LED
}
else if (!strcmp(argv[1], "off")) {
write(fd1, "none", 4); //先将触发模式设置为none
write(fd2, "0", 1); //LED灭
}
else if (!strcmp(argv[1], "trigger")) {
if (3 != argc) {
USAGE();
exit(-1);
}

if (0 > write(fd1, argv[2], strlen(argv[2])))
perror("write error");
}
else
USAGE();
exit(0);
}
```
- 通过交叉编译arm-linux-gnueabihf-gcc-4.9.4 led.c -o 1 生成可执行文件1，导入开发板，之后执行./1 trigger heartbear或者./1 on